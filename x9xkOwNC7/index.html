<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="https://18279493170.github.io/favicon.ico" type="image/x-icon" /><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"><meta name="description"content="搞钱！搞钱！搞钱！"><meta charset="UTF-8"><title>git 总结 | 徐某人</title>
<link href="https://18279493170.github.io/styles/main.css" type="text/css" rel="stylesheet" /><link href="https://at.alicdn.com/t/font_1621793_zatzzgvf30g.css" type="text/css" rel="stylesheet" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css"><script async src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.min.js"></script><script src="https://18279493170.github.io/media/js/magnify.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
<script type="text/javascript">function btn_toggle(){document.getElementById("hn").classList.contains("no-js")?document.getElementById("hn").classList.remove("no-js"):document.getElementById("hn").classList.add("no-js")}</script>

<link rel="canonical" href="https://18279493170.github.io/x9xkOwNC7/" />
</head>
<body>
<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >本页面需要浏览器支持（启用）JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://18279493170.github.io"><img alt="logo" style="display:inline-block;" src="https://18279493170.github.io/images/avatar.png"/></a><h1 title="徐某人" class="weaklink"><a  href="/">徐某人</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >首页</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >归档</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >标签</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://18279493170.github.io/ju-ji" class="selected active current nav__item" >句集</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div><div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >首页</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >归档</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >标签</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://18279493170.github.io/ju-ji" class="selected active current nav__item" >句集</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form" data-update="1677698765253" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

<div class="main"><div class="main-inner"><div class="content">
<article class="post">
<h2 class="post_title sm_margin"><a>git 总结</a></h2>
<script>function lan(){if(document.getElementById("lan").innerText=="繁"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="简"}else{if(document.getElementById("lan").innerText=="簡"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="繁"}}};</script>
<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px"> 2018-08-16</span><i class="iconfont icon-browse"></i><span style="margin-right:15px"> <span id="busuanzi_value_page_pv"></span> Views</span><i class="iconfont icon-category"></i><span class="weaklink" style="margin-right:15px">	<a href="https://18279493170.github.io/qvEj2_a0j6/" class="tag">git</a></span><i class="iconfont icon-caret-down"></i><span style="margin-right:15px">4586字</span><i class="iconfont icon-naozhong"></i><span style="margin-right:15px">19 min read</span><a id="lan" href="javascript:void(0);"onclick="lan();"title="调整简繁体" style="margin-right:15px;">繁</a>
</section>

<div style="display:flex">
<div class="md_block" id="md_block">
<div class="round-shape-one"></div>
<h1 id="简介">简介</h1>
<p>Git 是一个开源的分布式版本控制系统。</p>
<h2 id="版本控制">版本控制</h2>
<p>是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p>
<h2 id="分布式">分布式</h2>
<p>客户端把代码仓库完整地镜像下来。任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的提取操作，实际上都是一次对代码仓库的完整备份。</p>
<h2 id="集中式">集中式</h2>
<p>如 CVS，Subversion 等，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。</p>
<h1 id="安装">安装</h1>
<h2 id="debianubuntu-环境">Debian/Ubuntu 环境</h2>
<p>$ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \</p>
<blockquote>
<p>libz-dev libssl-dev<br>
$ apt-get install git-core<br>
$ git --version<br>
git version 1.8.1.2</p>
</blockquote>
<h2 id="centosredhat-环境">Centos/RedHat 环境</h2>
<p>$ yum install curl-devel expat-devel gettext-devel \</p>
<blockquote>
<p>openssl-devel zlib-devel<br>
$ yum -y install git-core<br>
$ git --version<br>
git version 1.7.1</p>
</blockquote>
<h2 id="windows-mac-环境">Windows /Mac 环境</h2>
<p>Git 官方下载地址下载 exe 安装包。按照安装向导安装即可。建议安装 Git Bash 这个 git 的命令行工具。</p>
<p><a href="https://git-scm.com/">git下载</a></p>
<h1 id="配置">配置</h1>
<p>Git 自带一个 git config 的工具来帮助设置控制 Git 外观和行为的配置变量。这些变量存储在三个不同的位置：</p>
<p>/etc/gitconfig 文件: 包含系统上每一个用户及他们仓库的通用配置。如果使用带有 --system 选项的 git config 时，它会从此文件读写配置变量。</p>
<p>~/.gitconfig 或 ~/.config/git/config 文件：只针对当前用户。可以传递 --global 选项让 Git 读写此文件。<br>
当前使用仓库的 Git 目录中的 config 文件（就是 .git/config）：针对该仓库。<br>
每一个级别覆盖上一级别的配置，所以 .git/config 的配置变量会覆盖 /etc/gitconfig 中的配置变量。<br>
在 Windows 系统中，Git 会查找 [公式]USER）的 .gitconfig 文件。Git 同样也会寻找 /etc/gitconfig 文件，但只限于 MSys 的根目录下，即安装 Git 时所选的目标位置。</p>
<h1 id="基本概念">基本概念</h1>
<h2 id="版本库">版本库</h2>
<p>当你克隆一个项目到本地或创建一个 git 项目，项目目录下会有一个隐藏的 .git 子目录。这个目录是 git 用来跟踪管理版本库的，千万不要手动修改。</p>
<h2 id="哈希值">哈希值</h2>
<p>Git 中所有数据在存储前都计算校验和，然后以校验和来引用。这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。这个功能建构在 Git 底层，是构成 Git 哲学不可或缺的部分。若你在传送过程中丢失信息或损坏文件，Git 就能发现。<br>
Git 用以计算校验和的机制叫做 SHA-1 散列（hash，哈希）。这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。SHA-1 哈希看起来是这样：<br>
24b9da6552252987aa493b52f8696cd6d3b00373 Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。</p>
<h2 id="文件状态">文件状态</h2>
<p>三种状态:<br>
已修改（modified） - 已修改表示修改了文件，但还没保存到数据库中。<br>
已暂存（staged） - 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。<br>
已提交（committed） - 已提交表示数据已经安全的保存在本地数据库中。</p>
<h2 id="工作区域">工作区域</h2>
<p>与文件状态对应，不同状态的文件在 Git 中处于不同的工作区域<br>
工作区（working） - 当你 git clone 一个项目到本地，相当于在本地克隆了项目的一个副本。工作区是对项目的某个版本独立提取出来的内容。这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。<br>
暂存区（staging）- 暂存区是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。有时候也被称作 `‘索引’'，不过一般说法还是叫暂存区。<br>
本地仓库（local） - 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 本地仓库。<br>
远程仓库（remote） - 以上几个工作区都是在本地。为了让别人可以看到你的修改，你需要将你的更新推送到远程仓库。同理，如果你想同步别人的修改，你需要从远程仓库拉取更新。</p>
<h2 id="分支branch">分支（Branch）</h2>
<p>为了将修改记录的整个流程分开存储，让分开的分支不受其它分支的影响，所以在同一个数据库里可以同时进行多个不同的修改<br>
主分支（Master）是 Git 为我们自动创建的第一个分支，也叫主分支，其它分支开发完成后都要合并到 master</p>
<h2 id="标签tag">标签（Tag）</h2>
<p>用于标记特定的点或提交的历史，通常会用来标记发布版本的名称或版本号（如：publish/0.0.1），虽然标签看起来有点像分支，但打上标签的提交是固定的，不能随意的改动</p>
<h2 id="head">HEAD</h2>
<p>可以理解为指针，指向当前仓库所处的分支。一般在有 Git 管理的目录下打开 Git 终端都能在当前路径的尾巴上，看到所处的分支名。</p>
<h1 id="命令">命令</h1>
<p><a href="https://www.runoob.com/note/56524">git命令大全</a></p>
<h2 id="配置-2">配置</h2>
<p>全局配置</p>
<pre><code># 用户信息
$ git config --global user.name &quot;your_name&quot;
$ git config --global user.email &quot;your_email&quot;

# 文本编辑器
$ git config --global core.editor &quot;nvim&quot;

# 分页器
$ git config --global core.pager &quot;more&quot;

# 别名
$ git config --global alias.gs &quot;git status&quot;

# 纠错
$ git config --global help.autocorrect 1
</code></pre>
<p>个人配置</p>
<pre><code># 不加--global参数的话，则为个人配置
$ git config --list
$ git config user.name
$ git config user.name &quot;your_name&quot;

# 如果在项目中设置，则保存在.git/config文件里面
$ cat .git/config
[user]
    name = &quot;your_name&quot;
......

</code></pre>
<h2 id="创建仓库">创建仓库</h2>
<p>克隆一个已创建的仓库：</p>
<pre><code># 通过 SSH
$ git clone ssh://user@domain.com/repo.git

#通过 HTTP
$ git clone http://domain.com/user/repo.git
创建一个新的本地仓库：

$ git init
</code></pre>
<h2 id="添加修改到暂存区">添加修改到暂存区</h2>
<p>把指定文件添加到暂存区<br>
<code>$ git add xxx</code></p>
<p>把当前所有修改添加到暂存区<br>
<code>$ git add .</code></p>
<p>把所有修改添加到暂存区<br>
<code>$ git add -A</code></p>
<h2 id="提交修改到本地仓库">提交修改到本地仓库</h2>
<p>提交本地的所有修改<br>
<code>$ git commit -a</code></p>
<p>提交之前已标记的变化<br>
<code>$ git commit</code></p>
<p>附加消息提交<br>
<code>$ git commit -m 'commit message'</code></p>
<h2 id="储藏">储藏</h2>
<p>有时，我们需要在同一个项目的不同分支上工作。当需要切换分支时，偏偏本地的工作还没有完成，此时，提交修改显得不严谨，但是不提交代码又无法切换分支。这时，你可以使用 git stash 将本地的修改内容作为草稿储藏起来。</p>
<pre><code># 1. 将修改作为当前分支的草稿保存
$ git stash

# 2. 查看草稿列表
$ git stash list
stash@{0}: WIP on master: 6fae349 :memo: Writing docs.

# 3.1 删除草稿
$ git stash drop stash@{0}

# 3.2 读取草稿
$ git stash apply stash@{0}
</code></pre>
<h2 id="撤销修改">撤销修改</h2>
<p>撤销本地修改</p>
<pre><code># 移除缓存区的所有文件（i.e. 撤销上次git add）
$ git reset HEAD

# 将HEAD重置到上一次提交的版本，并将之后的修改标记为未添加到缓存区的修改
$ git reset &lt;commit&gt;

# 将HEAD重置到上一次提交的版本，并保留未提交的本地修改
$ git reset --keep &lt;commit&gt;

# 放弃工作目录下的所有修改
$ git reset --hard HEAD

# 将HEAD重置到指定的版本，并抛弃该版本之后的所有修改
$ git reset --hard &lt;commit-hash&gt;

# 用远端分支强制覆盖本地分支
$ git reset --hard &lt;remote/branch&gt; e.g., upstream/master, origin/my-feature

# 放弃某个文件的所有本地修改
$ git checkout HEAD &lt;file&gt;
</code></pre>
<p>删除添加.gitignore文件前错误提交的文件</p>
<pre><code>$ git rm -r --cached .
$ git add .
$ git commit -m &quot;remove xyz file&quot;
</code></pre>
<p>撤销远程修改（创建一个新的提交，并回滚到指定版本）</p>
<p><code>$ git revert &lt;commit-hash&gt;</code></p>
<p>彻底删除指定版本</p>
<pre><code># 执行下面命令后，commit-hash 提交后的记录都会被彻底删除，使用需谨慎
$ git reset --hard &lt;commit-hash&gt;
$ git push -f
</code></pre>
<h2 id="更新推送">更新推送</h2>
<p>更新</p>
<pre><code># 下载远端版本，但不合并到HEAD中
$ git fetch &lt;remote&gt;

# 将远端版本合并到本地版本中
$ git pull origin master

# 以rebase方式将远端分支与本地合并
$ git pull --rebase &lt;remote&gt; &lt;branch&gt;
</code></pre>
<p>推送</p>
<pre><code># 将本地版本推送到远程端
$ git push remote &lt;remote&gt; &lt;branch&gt;

# 删除远程端分支
$ git push &lt;remote&gt; :&lt;branch&gt; (since Git v1.5.0)
$ git push &lt;remote&gt; --delete &lt;branch&gt; (since Git v1.7.0)

# 发布标签
$ git push --tags
</code></pre>
<h2 id="查看信息">查看信息</h2>
<p>显示工作路径下已修改的文件</p>
<p><code>$ git status</code><br>
显示与上次提交版本文件的不同</p>
<p><code>$ git diff</code></p>
<p>显示提交历史</p>
<pre><code># 从最新提交开始，显示所有的提交记录（显示hash， 作者信息，提交的标题和时间）
$ git log

# 显示某个用户的所有提交
$ git log --author=&quot;username&quot;

# 显示某个文件的所有修改
$ git log -p &lt;file&gt;
</code></pre>
<p>显示搜索内容</p>
<pre><code># 从当前目录的所有文件中查找文本内容
$ git grep &quot;Hello&quot;

# 在某一版本中搜索文本
$ git grep &quot;Hello&quot; v2.5
</code></pre>
<h2 id="分支">分支</h2>
<p>增删查分支</p>
<pre><code># 列出所有的分支
$ git branch

# 列出所有的远端分支
$ git branch -r

# 基于当前分支创建新分支
$ git branch &lt;new-branch&gt;

# 基于远程分支创建新的可追溯的分支
$ git branch --track &lt;new-branch&gt; &lt;remote-branch&gt;

# 删除本地分支
$ git branch -d &lt;branch&gt;

# 强制删除本地分支，将会丢失未合并的修改
$ git branch -D &lt;branch&gt;
</code></pre>
<p>切换分支</p>
<pre><code># 切换分支
$ git checkout &lt;branch&gt;

# 创建并切换到新分支
$ git checkout -b &lt;branch&gt;
</code></pre>
<h2 id="标签">标签</h2>
<pre><code>git tag                         # 列出所有本地标签

git tag &lt;tagname&gt;               # 基于最新提交创建标签

git tag -a &quot;v1.0&quot; -m &quot;一些说明&quot;  # -a指定标签名称，-m指定标签说明

git tag -d &lt;tagname&gt;            # 删除标签
</code></pre>
<h2 id="合并重置">合并重置</h2>
<p>merge 与 rebase 虽然是 git 常用功能，但是强烈建议不要使用 git 命令来完成这项工作。<br>
因为如果出现代码冲突，在没有代码比对工具的情况下，实在太艰难了。<br>
你可以考虑使用各种 Git GUI 工具。</p>
<pre><code>git merge &lt;branch&gt;              # 合并指定分支到当前分支

git merge --abort               # 取消当前合并，重建合并前状态

git merge dev -Xtheirs          # 以合并dev分支到当前分支，有冲突则以dev分支为准

git rebase &lt;branch&gt;             # 衍合指定分支到当前分支
</code></pre>
<h2 id="远程操作">远程操作</h2>
<pre><code>git remote -v                   # 查看远程版本库信息

git remote show &lt;remote&gt;        # 查看指定远程版本库信息

git remote add &lt;remote&gt; &lt;url&gt;   # 添加远程版本库

git remote remove &lt;remote&gt;      # 删除指定的远程版本库

git fetch &lt;remote&gt;              # 从远程库获取代码

git pull &lt;remote&gt; &lt;branch&gt;      # 下载代码及快速合并

git push &lt;remote&gt; &lt;branch&gt;      # 上传代码及快速合并

git push &lt;remote&gt; :&lt;branch/tag-name&gt; # 删除远程分支或标签

git push --tags                 # 上传所有标签
</code></pre>
<h1 id="分支开发">分支开发</h1>
<p>Git 是目前最流行的源代码管理工具。为规范开发，保持代码提交记录以及 git 分支结构清晰，方便后续维护，现规范 git 的相关操作。</p>
<h2 id="分支命名">分支命名</h2>
<p>master 分支</p>
<blockquote>
<p>master 为主分支，也是用于部署生产环境的分支，确保master分支稳定性， master 分支一般由develop以及hotfix分支合并，任何时间都不能直接修改代码</p>
</blockquote>
<p>develop 分支</p>
<blockquote>
<p>develop 为开发分支，始终保持最新完成以及bug修复后的代码，一般开发的新功能时，feature分支都是基于develop分支下创建的。</p>
</blockquote>
<p>feature 分支</p>
<blockquote>
<p>开发新功能时，以develop为基础创建feature分支。 分支命名: feature/ 开头的为特性分支， 命名规则: feature/user_module、 feature/cart_module</p>
</blockquote>
<p>release分支</p>
<blockquote>
<p>release 为预上线分支，发布提测阶段，会release分支代码为基准提测。当有一组feature开发完成，首先会合并到develop分支，进入提测时会创建release分支。如果测试过程中若存在bug需要修复，则直接由开发者在release分支修复并提交。当测试完成之后，合并release分支到master和develop分支，此时master为最新代码，用作上线。</p>
</blockquote>
<p>hotfix 分支</p>
<blockquote>
<p>分支命名: hotfix/ 开头的为修复分支，它的命名规则与feature分支类似。线上出现紧急问题时，需要及时修复，以master分支为基线，创建hotfix分支，修复完成后，需要合并到master分支和develop分支</p>
</blockquote>
<h2 id="常见任务">常见任务</h2>
<p>增加新功能</p>
<pre><code>(dev)$: git checkout -b feature/xxx            # 从dev建立特性分支
(feature/xxx)$: blabla                         # 开发
(feature/xxx)$: git add xxx
(feature/xxx)$: git commit -m 'commit comment'
(dev)$: git merge feature/xxx --no-ff          # 把特性分支合并到dev
</code></pre>
<p>修复紧急bug</p>
<pre><code>(master)$: git checkout -b hotfix/xxx         # 从master建立hotfix分支
(hotfix/xxx)$: blabla                         # 开发
(hotfix/xxx)$: git add xxx
(hotfix/xxx)$: git commit -m 'commit comment'
(master)$: git merge hotfix/xxx --no-ff       # 把hotfix分支合并到master，并上线到生产环境
(dev)$: git merge hotfix/xxx --no-ff          # 把hotfix分支合并到dev，同步代码
</code></pre>
<p>测试环境代码</p>
<pre><code>(release)$: git merge dev --no-ff             # 把dev分支合并到release，然后在测试环境拉取并测试
</code></pre>
<p>生产环境上线</p>
<pre><code>(master)$: git merge release --no-ff          # 把release测试好的代码合并到master，运维人员操作
(master)$: git tag -a v0.1 -m '部署包版本名'  #给版本命名，打Tag
</code></pre>
<h1 id="常用命令">常用命令</h1>
<pre><code># 工作区 -&gt; 暂存区
$ git add &lt;file/dir&gt;

# 暂存区 -&gt; 本地仓库
$ git commit -m &quot;some info&quot;

# 本地仓库 -&gt; 远程仓库
$ git push origin master  # 本地master分支推送到远程origin仓库 

# 工作区 &lt;- 暂存区
$ git checkout -- &lt;file&gt;  # 暂存区文件内容覆盖工作区文件内容

# 暂存区 &lt;- 本地仓库
$ git reset HEAD &lt;file&gt;   # 本地仓库文件内容覆盖暂存区文件内容

# 本地仓库 &lt;- 远程仓库
$ git clone &lt;git_url&gt;        # 克隆远程仓库
$ git fetch upstream master  # 拉取远程代码到本地但不应用在当前分支
$ git pull upstream master   # 拉取远程代码到本地但应用在当前分支
$ git pull --rebase upstream master  # 如果平时使用rebase合并代码则加上

# 工作区 &lt;- 本地仓库
$ git reset &lt;commit&gt;          # 本地仓库覆盖到工作区(保存回退文件内容修改)
$ git reset --mixed &lt;commit&gt;  # 本地仓库覆盖到工作区(保存回退文件内容修改)
$ git reset --soft &lt;commit&gt;   # 本地仓库覆盖到工作区(保留修改并加到暂存区)
$ git reset --hard &lt;commit&gt;   # 本地仓库覆盖到工作区(不保留修改直接删除掉)
</code></pre>
<h1 id="提交规范">提交规范</h1>
<p>明确每一次提交的内容，比如增加新功能，修改bug，维护文档，调整单元测试等，规范的Git提交历史，还可以直接生成项目发版的CHANGELOG（semantic-release）</p>
<p>格式</p>
<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
header 是必需的，body 和 footer 可以省略。
不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。
</code></pre>
<p>Header</p>
<blockquote>
<p>Header部分只有一行，包括三个字段：type（必需）、scope（可选）和subject（必需）。</p>
</blockquote>
<p>type</p>
<blockquote>
<p>用于说明 commit 的类别，只允许使用下面7个标识。</p>
</blockquote>
<pre><code>feat：新功能（feature）
fix：修补bug
docs：文档（documentation）
style： 格式（不影响代码运行的变动）
refactor：重构（即不是新增功能，也不是修改bug的代码变动）
test：增加测试
chore：构建过程或辅助工具的变动

如果type为feat和fix，则该 commit 将肯定出现在 Change log 之中。其他情况（docs、chore、style、refactor、test）由你决定，要不要放入 Change log，建议是不要。
</code></pre>
<p>scope</p>
<blockquote>
<p>scope用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。<br>
例如在Angular，可以是$location, $browser, $compile, $rootScope, ngHref, ngClick, ngView等。<br>
如果你的修改影响了不止一个scope，你可以使用*代替。</p>
</blockquote>
<p>subject</p>
<blockquote>
<p>是 commit 目的的简短描述，不超过50个字符。<br>
注意<br>
以动词开头，使用第一人称现在时，比如change，而不是changed或changes<br>
第一个字母小写<br>
结尾不加句号（.）</p>
</blockquote>
<p>Body</p>
<p>Body 部分是对本次 commit 的详细描述，可以分成多行。</p>
<pre><code>More detailed explanatory text, if necessary.  Wrap it to 
about 72 characters or so. 

Further paragraphs come after blank lines.

- Bullet points are okay, too
- Use a hanging indent
</code></pre>
<p>注意</p>
<blockquote>
<p>使用第一人称现在时，比如使用change而不是changed或changes。<br>
永远别忘了第2行是空行<br>
应该说明代码变动的动机，以及与以前行为的对比。</p>
</blockquote>
<p>Footer</p>
<p>不兼容变动</p>
<p>如果当前代码与上一个版本不兼容，则 Footer 部分以BREAKING CHANGE开头，后面是对变动的描述、以及变动理由和迁移方法。</p>
<pre><code>BREAKING CHANGE: isolate scope bindings definition has changed.

    To migrate the code follow the example below:

    Before:

    scope: {
      myAttr: 'attribute',
    }

    After:

    scope: {
      myAttr: '@',
    }

    The removed `inject` wasn't generaly useful for directives so there should be no code using it.
</code></pre>
<p>关闭 Issue<br>
如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。<br>
Closes #234</p>
<p>Revert<br>
如果当前 commit 用于撤销以前的 commit，则必须以revert:开头，后面跟着被撤销 Commit 的 Header。</p>
<pre><code>revert: feat(pencil): add 'graphiteWidth' option

This reverts commit 667ecc1654a317a13331b17617d973392f415f02.
</code></pre>
<p>//Body部分的格式是固定的，必须写成This reverts commit &lt;hash&gt;.，其中的hash是被撤销 commit 的 SHA 标识符。<br>
如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的Reverts小标题下面。</p>

<span id="footnote"></span>
<div id = "warn"></div>
</div>
<div class="toc-container"><ul class="markdownIt-TOC">
<li><a href="#%E7%AE%80%E4%BB%8B">简介</a>
<ul>
<li><a href="#%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">版本控制</a></li>
<li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F">分布式</a></li>
<li><a href="#%E9%9B%86%E4%B8%AD%E5%BC%8F">集中式</a></li>
</ul>
</li>
<li><a href="#%E5%AE%89%E8%A3%85">安装</a>
<ul>
<li><a href="#debianubuntu-%E7%8E%AF%E5%A2%83">Debian/Ubuntu 环境</a></li>
<li><a href="#centosredhat-%E7%8E%AF%E5%A2%83">Centos/RedHat 环境</a></li>
<li><a href="#windows-mac-%E7%8E%AF%E5%A2%83">Windows /Mac 环境</a></li>
</ul>
</li>
<li><a href="#%E9%85%8D%E7%BD%AE">配置</a></li>
<li><a href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">基本概念</a>
<ul>
<li><a href="#%E7%89%88%E6%9C%AC%E5%BA%93">版本库</a></li>
<li><a href="#%E5%93%88%E5%B8%8C%E5%80%BC">哈希值</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81">文件状态</a></li>
<li><a href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%9F%9F">工作区域</a></li>
<li><a href="#%E5%88%86%E6%94%AFbranch">分支（Branch）</a></li>
<li><a href="#%E6%A0%87%E7%AD%BEtag">标签（Tag）</a></li>
<li><a href="#head">HEAD</a></li>
</ul>
</li>
<li><a href="#%E5%91%BD%E4%BB%A4">命令</a>
<ul>
<li><a href="#%E9%85%8D%E7%BD%AE-2">配置</a></li>
<li><a href="#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93">创建仓库</a></li>
<li><a href="#%E6%B7%BB%E5%8A%A0%E4%BF%AE%E6%94%B9%E5%88%B0%E6%9A%82%E5%AD%98%E5%8C%BA">添加修改到暂存区</a></li>
<li><a href="#%E6%8F%90%E4%BA%A4%E4%BF%AE%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93">提交修改到本地仓库</a></li>
<li><a href="#%E5%82%A8%E8%97%8F">储藏</a></li>
<li><a href="#%E6%92%A4%E9%94%80%E4%BF%AE%E6%94%B9">撤销修改</a></li>
<li><a href="#%E6%9B%B4%E6%96%B0%E6%8E%A8%E9%80%81">更新推送</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF">查看信息</a></li>
<li><a href="#%E5%88%86%E6%94%AF">分支</a></li>
<li><a href="#%E6%A0%87%E7%AD%BE">标签</a></li>
<li><a href="#%E5%90%88%E5%B9%B6%E9%87%8D%E7%BD%AE">合并重置</a></li>
<li><a href="#%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9C">远程操作</a></li>
</ul>
</li>
<li><a href="#%E5%88%86%E6%94%AF%E5%BC%80%E5%8F%91">分支开发</a>
<ul>
<li><a href="#%E5%88%86%E6%94%AF%E5%91%BD%E5%90%8D">分支命名</a></li>
<li><a href="#%E5%B8%B8%E8%A7%81%E4%BB%BB%E5%8A%A1">常见任务</a></li>
</ul>
</li>
<li><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">常用命令</a></li>
<li><a href="#%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83">提交规范</a></li>
</ul>
</div>
</div>
<div id="fullPage"><canvas id="canvas"></canvas></div>
</article>
<div id="eof"><span>EOF</span></div><div class="round-shape-one"></div>
<section>
<div class="doc_comments">

</div></section>
</div></div></div><script>
"use strict";!function(){for(var n=document.getElementsByTagName("pre"),e=n.length,s=0;s<e;s++){n[s].innerHTML='<span class="line-number"></span>'+n[s].innerHTML+'<span class="cl"></span>';for(var a=n[s].innerHTML.split(/\n/).length,r=0;r<a-1;r++){n[s].getElementsByTagName("span")[0].innerHTML+="<span>"+(r+1)+"</span>"}}}();
let mainNavLinks=document.querySelectorAll(".markdownIt-TOC a");window.addEventListener("scroll",event=>{let fromTop=window.scrollY;mainNavLinks.forEach((link,index)=>{let section=document.getElementById(decodeURI(link.hash).substring(1));let nextSection=null
if(mainNavLinks[index+1]){nextSection=document.getElementById(decodeURI(mainNavLinks[index+1].hash).substring(1));}
if(section.offsetTop<=fromTop){if(nextSection){if(nextSection.offsetTop>fromTop){link.classList.add("currentToc");}else{link.classList.remove("currentToc");}}else{link.classList.add("currentToc");}}else{link.classList.remove("currentToc");}});});
var h=document.documentElement,b=document.body,st="scrollTop",sh="scrollHeight",progress=document.querySelector(".progress"),scroll;document.addEventListener("scroll",function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100;progress.style.setProperty("--scroll",scroll+"%")});
var wxScale=new WxScale({fullPage:document.querySelector("#fullPage"),canvas:document.querySelector("#canvas")});var imgBox=document.querySelectorAll("#md_block img");for(var i=0;i<imgBox.length;i++){imgBox[i].onclick=function(e){wxScale.start(this)}};
</script>
<a id="scrollUp" href="#top" style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"></div></div><div class="copyright"id="copyright">打不死的平头哈Copyright © 2018-2020 <a href="https://18279493170.github.io" style="margin:0;">徐某人</a>.</div>
<span style="display: inline;margin-right:15px;">👁<strong><span id="busuanzi_value_site_uv"></span></strong></span><span id="busuanzi_container_page_pv" style="display: inline;"><span>📚<strong>47</strong> posts</span></div></div>
<script>
console.log("\n %c \u26a1Theme: Bitcron-pro Author's Blog:https://blog.blinkstar.cn  Writen By Serence  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;", );
</script>
<script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>
<script type="text/javascript" async src="https://18279493170.github.io/media/js/prism.js"></script>
</body>
</html>